# Willow 
画像标签相关。  
探讨如何能轻量化低成本的处理大量消费者标签的快速查询问题。

## 思路  
两种思路：(本项目仅验证第二种思路，第一种思路见[Willow](https://github.com/rjguanwen/willow))  
- 消费者标签表按照通用的关系表模式进行设计，它应该表现为一个稀疏矩阵，借助 `go-memdb` 的特性，在内存中
存储消费者标签数据，其每个标签列均做成索引，允许索引列值缺失，以此减少存储空间，提高检索效率。  
- 将消费者标签展开，每个标签只有 `是` 和 `否` 两个状态，只占1个bit的存储空间。按顺序将标签排列起来，每
每个消费者的所有标签的存储则变为了 N 个 bit 的数组，N 等于标签个数。这样其占据的空间会非常小，在检索时，
将检索条件同样按照标签排序组成一个 N 位的 bit 数组作为检索数组，将检索数组与目标数组执行按位与操作即可。
此种方法在查询标签较多时应该可以有效保证检索速度。

## 逻辑架构



## 待决问题
由于 go 语言无法直接操作 bit，所以本思路必须变通。思路已有，没时间写，回头再说。

## License
Copyright © 2021 - 2025 rjguanwen  
Released under MIT license, see [LICENSE](LICENSE) for details.  